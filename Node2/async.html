<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
function time(sec){
    return new Promise((resolve, reject)=>{
        setTimeout(()=>{resolve(sec)},sec);
    });
}

    // time(3000)
    //     .then(data =>{
    //         //console.log(data + "초후 실행되었습니다.");
    //         console.log(data/1000+"초 경과중");
    //         sum = data; //3초후 실행 되었습니다.
    //         return time(2000);
    //     })
    //     .then(data =>{
    //         console.log((sum+data)/1000 + "초후 실행되었습니다.");
    //         sum = sum+data; //5초후 실행 되었습니다.
    //         return time(1000); 
    //     })
    //     .then(data =>{
    //         console.log((sum+data)/1000 + "초후 실행되었습니다.");
            
    //     })
    //     console.log("종료");
        //await 비동기 처리방식으로 수정
        
    async function start(){
        console.log("내부 시작");
        var data = await time(3000)
        console.log(data/1000+"초후 실행 되었습니다.");
        data = await time(2000);
        console.log(data/1000+"초후 실행 되었습니다.");
        data = await time(1000);
        console.log(data/1000+"초후 실행 되었습니다.");
        console.log("내부 끝");
    }
    
    // start() // 함수이기 때문에 호출해주어야 한다.
    //     .then(() => 
    //         console.log("외부 끝"));
    async function start2(){
        console.log("외부 시작");
        await start();
        console.log("외부 끝");
    }
    start2();
        
</script>